import { invoke } from '@tauri-apps/api';\nimport { Database } from '@tauri-apps/plugin-sql';\n\nexport async function initDatabase() {\n  try {\n    console.log('Initializing database...');\n    await invoke('plugin:sql|load', {\n      dbPath: 'sqlite:concept_tracker.db'\n    });\n    \n    const db = await Database.load('sqlite:concept_tracker.db');\n    console.log('Database loaded successfully');\n    \n    // Create tables if they don't exist\n    await db.execute(`\n      CREATE TABLE IF NOT EXISTS concept_introductions (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        concept TEXT NOT NULL,\n        intro_method TEXT NOT NULL,\n        timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,\n        notes TEXT\n      );\n\n      CREATE TABLE IF NOT EXISTS responses (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        concept_intro_id INTEGER,\n        recognition_level TEXT NOT NULL,\n        engagement_level TEXT NOT NULL,\n        persistence_level TEXT NOT NULL,\n        timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,\n        FOREIGN KEY(concept_intro_id) REFERENCES concept_introductions(id)\n      );\n    `);\n    console.log('Tables created successfully');\n\n    return db;\n  } catch (error) {\n    console.error('Database initialization error:', error);\n    throw error;\n  }\n}